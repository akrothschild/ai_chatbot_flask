{% extends "layout.html" %}

{% block title %}
Register
{% endblock %}

{% block main %}
<div class="container">
    <h1 class="mt-5">CS50 Chat</h1>

<!--    &lt;!&ndash; List of chats as clickable links &ndash;&gt;-->
<!--    <div class="list-group mt-4">-->
<!--        {% for chat in chats %}-->
<!--        <a href="/chat/{{ chat.id }}" class="list-group-item list-group-item-action">{{ chat.name }}</a>-->
<!--        {% endfor %}-->
<!--    </div>-->

    <!-- Chat messages container -->
    <div id="chat-container" class="my-4">
        {% for message in messages %}
        <div class="message">
            {% if message.role == 'user' %}
            <p><strong class="text-primary">YOU:</strong> {{ message.content }}</p>
            {% elif message.role == 'assistant' %}
            <p><strong class="text-success">CS50:</strong> {{ message.content }}</p>
            {% elif message.role == 'system' %}
            <p><strong class="text-warning">SYSTEM:</strong> {{ message.content }}</p>
            {% endif %}
        </div>
        {% endfor %}
    </div>

    <form action="/chat" method="post" class="my-4">
        <div class="input-group">
            <input type="text" name="user_input" id="user_input" class="form-control" autocomplete="off">
            <div class="input-group-append">
                <button type="submit" class="btn btn-primary">Send</button>
            </div>
        </div>
    </form>
</div>
{% endblock %}
